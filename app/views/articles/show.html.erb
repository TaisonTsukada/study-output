<%= render "shared/header" %>
<% if current_user.id == @article.user.id %>
  <%= link_to "編集", edit_article_path(@article.id), method: :get, class: "article-red-btn" %>
  <%= link_to "削除", article_path(@article.id), method: :delete, class:"article-destroy" %>
<% end %>
<%= @article.title %>
<%= @article.content %>
<%= @article.tag_list %>

<% if user_signed_in? %>
  <%= form_with(model: [@article, @comment], local: true) do |f|%>
    <div class="field">
      <%= f.label :text, "コメント" %><br />
      <%= f.text_field :text %>
    </div>
    <div class="actions">
      <%= f.submit "送信する", class: :form__btn  %>
    </div>
  <% end %> 
<% end %>

<div>
    <h4>コメント</h4>
    <div id="comments_area"><!-- #① -->
      <!-- 投稿されたコメント一覧をブログの詳細ページに表示するためのrender -->
      <%= render partial: 'comments/index', locals: { comments: @comments } %>
    </div>  
    <% if user_signed_in? %>
      <!-- コメント入力欄をブログの詳細ページに表示するためのrender -->
      <%= render partial: 'comments/form', locals: { comment: @comment, post: @post } %>
    <% end %>
  </div>